<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>
	<entry key="itemCategoryAmenity.create">
	    <![CDATA[
			INSERT INTO ItemCategoryAmenity (ItemCategoryId, AmenityId, Quantity, CreatedBy, CreatedOn, UpdatedBy, UpdatedOn) 
			VALUES (?, ?, ?, ?, ?, ?, ?)
	    ]]>
	</entry>
	
	<entry key="itemCategoryAmenity.update">
	    <![CDATA[
			UPDATE ItemCategoryAmenity SET
				ItemCategoryId = ?,
				AmenityId = ?,
				Quantity = ?,
				UpdatedBy = ?, 
				UpdatedOn = ? 
			WHERE 
				Id = ?
	    ]]>
	</entry>
	
	<entry key="itemCategoryAmenity.delete">
	    <![CDATA[
			DELETE FROM ItemCategoryAmenity WHERE Id = ?
	    ]]>
	</entry>
	
	<entry key="itemCategoryAmenity.getItemCategoryAmenityById">
	    <![CDATA[
			SELECT 
				ItemCategoryAmenity.Id, 
				ItemCategoryAmenity.ItemCategoryId, 
				ItemCategoryAmenity.AmenityId, 
				ItemCategoryAmenity.Quantity,
				Amenity.Name
			FROM ItemCategoryAmenity 
			LEFT OUTER JOIN Amenity ON 
				Amenity.Id = ItemCategoryAmenity.AmenityId 
			WHERE 
				ItemCategoryAmenity.Id = ?
	    ]]>
	</entry> 
	
	<entry key="itemCategoryAmenity.getItemCategoryAmenityByItemCategoryIdAndAmenityId">
	    <![CDATA[
			SELECT 
				ItemCategoryAmenity.Id, 
				ItemCategoryAmenity.ItemCategoryId, 
				ItemCategoryAmenity.AmenityId, 
				ItemCategoryAmenity.Quantity,
				Amenity.Name
			FROM ItemCategoryAmenity 
			LEFT OUTER JOIN Amenity ON 
				Amenity.Id = ItemCategoryAmenity.AmenityId 
			WHERE 
				ItemCategoryAmenity.ItemCategoryId = ? 
				AND ItemCategoryAmenity.AmenityId = ? 
	    ]]>
	</entry> 
	
	<entry key="itemCategoryAmenity.getAllItemCategoryAmenitiesByItemCategoryId">
	    <![CDATA[
			SELECT 
				ItemCategoryAmenity.Id, 
				ItemCategoryAmenity.ItemCategoryId, 
				ItemCategoryAmenity.AmenityId, 
				ItemCategoryAmenity.Quantity,
				Amenity.Name
			FROM ItemCategoryAmenity 
			LEFT OUTER JOIN Amenity ON 
				Amenity.Id = ItemCategoryAmenity.AmenityId 
			WHERE 
				ItemCategoryAmenity.ItemCategoryId = ?
			ORDER BY ItemCategoryAmenity.Id DESC
	    ]]>
	</entry>
	
	<entry key="itemCategoryAmenity.isAvailable">
	    <![CDATA[
			SELECT
				Id
			FROM ItemCategoryAmenity
			WHERE
				(? > 0 AND Id != ? AND AmenityId = ? AND ItemCategoryId = ?)
			    OR (? <= 0 AND AmenityId = ? AND ItemCategoryId = ?) 
	    ]]>
	</entry>
</properties>