<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>
	<entry key="provider.create">
		<![CDATA[
			INSERT INTO Provider (Title, ProviderTypeId, Specification, IsActive, Status, CreatedBy, CreatedOn, UpdatedBy, UpdatedOn) 
			VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
		]]>
	</entry>
	
	<entry key="provider.update">
		<![CDATA[
			UPDATE Provider SET 
				Title = ?, 
				ProviderTypeId = ?, 
				Specification = ?,
				IsActive = ?, 
				Status = ?, 
				UpdatedBy = ?, 
				UpdatedOn = ? 
			WHERE 
				Id = ?
		]]>
	</entry>
	
	<entry key="provider.delete">
		<![CDATA[
			UPDATE Provider SET 
				Status = ?, 
				UpdatedBy = ?, 
				UpdatedOn = ? 
			WHERE 
				Id = ?
		]]>
	</entry>
	
	<entry key="provider.getProviderDataById">
		<![CDATA[
			SELECT 
				Id, 
				Title, 
				ProviderTypeId, 
				Specification,
				IsActive, 
				Status 
			FROM Provider 
			WHERE 
				Id = ?
		]]>
	</entry>

	<entry key="provider.getProviderDatasByProviderTypeId">
		<![CDATA[
			SELECT 
				Provider.Id, 
				Provider.Title, 
				Provider.ProviderTypeId, 
				Provider.Specification,
				Provider.IsActive, 
				Provider.Status,
				Hotel.Id, 
				Hotel.StarRating, 
				Hotel.NumberOfFloor, 
				Hotel.Latitude, 
				Hotel.Longitude, 
				Hotel.CheckInTime,  
				Hotel.CheckOutTime,
				Hotel.Website,
				PostalAddress.Id,
				PostalAddress.Line1,
				PostalAddress.CityId,
				City.Name,
				PostalAddress.StateId,
				State.Name,
				PostalAddress.CountryId,
				Country.Name
			FROM Provider 
			LEFT OUTER JOIN Hotel ON
				Hotel.ProviderId = Provider.Id
			LEFT OUTER JOIN ProviderPostalAddress ON 
				ProviderPostalAddress.ProviderId = Provider.Id 
			LEFT OUTER JOIN PostalAddress ON 
				PostalAddress.Id = ProviderPostalAddress.PostalAddressId 
			LEFT OUTER JOIN City ON 
				City.Id = PostalAddress.CityId
			LEFT OUTER JOIN Country ON 
				Country.Id = PostalAddress.CountryId
			LEFT OUTER JOIN State ON 
				State.Id = PostalAddress.StateId
			WHERE 
				Provider.ProviderTypeId = ?
		]]>
	</entry>
	
	<entry key="provider.getAllProviderDatas">
		<![CDATA[
			SELECT 
				Provider.Id, 
				Provider.Title, 
				Provider.ProviderTypeId, 
				Provider.Specification,
				Provider.IsActive, 
				Provider.Status,
				Hotel.Id, 
				Hotel.StarRating, 
				Hotel.NumberOfFloor, 
				Hotel.Latitude, 
				Hotel.Longitude, 
				Hotel.CheckInTime,  
				Hotel.CheckOutTime,
				Hotel.Website,
				PostalAddress.Id,
				PostalAddress.Line1,
				PostalAddress.CityId,
				City.Name,
				PostalAddress.StateId,
				State.Name,
				PostalAddress.CountryId,
				Country.Name
			FROM Provider 
			LEFT OUTER JOIN Hotel ON
				Hotel.ProviderId = Provider.Id
			LEFT OUTER JOIN ProviderPostalAddress ON 
				ProviderPostalAddress.ProviderId = Provider.Id 
			LEFT OUTER JOIN PostalAddress ON 
				PostalAddress.Id = ProviderPostalAddress.PostalAddressId 
			LEFT OUTER JOIN City ON 
				City.Id = PostalAddress.CityId
			LEFT OUTER JOIN State ON 
				State.Id = PostalAddress.StateId
			LEFT OUTER JOIN Country ON 
				Country.Id = PostalAddress.CountryId
		]]>
	</entry>
	
	<entry key="provider.getSearchHotel">
		<![CDATA[
			SELECT 
				Provider.Id, 
				Provider.Title, 
				Hotel.StarRating, 
				PostalAddress.Line1,
				PostalAddress.CityId,
				City.Name,
				PostalAddress.CountryId,
				Country.Name
			FROM Provider 
			LEFT OUTER JOIN Hotel ON
				Hotel.ProviderId = Provider.Id
			LEFT OUTER JOIN ProviderPostalAddress ON 
				ProviderPostalAddress.ProviderId = Provider.Id 
			LEFT OUTER JOIN PostalAddress ON 
				PostalAddress.Id = ProviderPostalAddress.PostalAddressId 
			LEFT OUTER JOIN City ON 
				City.Id = PostalAddress.CityId
			LEFT OUTER JOIN Country ON 
				Country.Id = PostalAddress.CountryId
			WHERE 
				Provider.Status = 1
				AND Provider.Title LIKE ?
				AND ((? > 0 AND Hotel.StarRating = ?) OR (? = 0))
				AND ((? > 0 AND PostalAddress.CountryId = ?) OR (? = 0))
				AND ((? > 0 AND PostalAddress.CityId = ?) OR (? = 0))	
		]]>
	</entry>

</properties>