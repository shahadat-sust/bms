<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>
	<entry key="user.create">
	    <![CDATA[
			INSERT INTO User (Username, Password, IsActive, Status, CreatedBy, CreatedOn, UpdatedBy, UpdatedOn) 
			VALUES (?, ?, ?, ?, ?, ?, ?, ? )
	    ]]>
	</entry>  
	<entry key="user.update">
	    <![CDATA[
			UPDATE User SET 
				Username = ?, 
				Password = ?, 
				IsActive = ?, 
				Status = ?, 
				UpdatedBy = ?, 
				UpdatedOn = ? 
			WHERE 
				Id = ?
	    ]]>
	</entry>
	<entry key="user.delete">
	    <![CDATA[
			UPDATE User SET 
				Status = ?, 
				UpdatedBy = ?, 
				UpdatedOn = ? 
			WHERE 
				Id = ?
	    ]]>
	</entry>
	<entry key="user.getUserDataById">
	    <![CDATA[
			SELECT 
				Id, 
				Username, 
				Password, 
				IsActive, 
				Status 
			FROM User 
			WHERE 
				Id = ?
	    ]]>
	</entry> 
	<entry key="user.getAllUserDatas">
	    <![CDATA[
			SELECT
				User.Id,
				User.Username,
				User.Password,
				User.IsActive,
				User.Status,
				UserProfile.Id,
				UserProfile.FirstName,
				UserProfile.LastName, 
				UserProfile.BirthDay, 
				UserProfile.Gender, 
				UserProfile.SecurityNumber, 
				UserProfile.PassportNumber, 
				UserProfile.DrivingLicenceNumber, 
				UserProfile.Caption
			FROM User
			LEFT OUTER JOIN UserProfile ON
				UserProfile.UserId = User.Id 
	    ]]>
	</entry>  
	<entry key="user.isUsernameAvailable">
	    <![CDATA[
			SELECT
				Id
			FROM User
			WHERE
				(? > 0 AND Id != ? AND Username = ?)
			    OR (? <= 0 AND Username = ?) 
	    ]]>
	</entry>   
	<entry key="user.getSearchUser">
	    <![CDATA[
			SELECT
				User.Id,
				User.Username,
				UserProfile.FirstName,
				UserProfile.LastName, 
				EmailAddress.Email,
				PhoneNumber.Code,
				PhoneNumber.Number
			FROM User
			LEFT OUTER JOIN UserProfile ON
				UserProfile.UserId = User.Id 
			LEFT OUTER JOIN UserEmailAddress ON 
				UserEmailAddress.UserId = User.Id 
			LEFT OUTER JOIN EmailAddress ON 
				EmailAddress.Id = UserEmailAddress.EmailAddressId 
			LEFT OUTER JOIN UserPhoneNumber ON 
				UserPhoneNumber.UserId = User.Id 
			LEFT OUTER JOIN PhoneNumber ON 
				PhoneNumber.Id = UserPhoneNumber.PhoneNumberId 
			WHERE 
				User.Status = 1
				AND (UserProfile.FirstName LIKE ? OR UserProfile.LastName LIKE ?)
				AND User.Username LIKE ?
				AND EmailAddress.Email LIKE ?
				AND PhoneNumber.Code LIKE ?
				AND PhoneNumber.Number LIKE ?
	    ]]>
	</entry>   
</properties>